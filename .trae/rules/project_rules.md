# Правила для Trae (ориентиры по репозиторию)

Кратко об идее структуры:
- src/client — клиентское браузерное приложение.
- src/server — серверное приложение на Express.js.
- src/common — переиспользуемый код, общий для клиента и сервера.

Руководство для агента:
- Если задача касается UI/фронтенда/сборки клиентского приложения — работай в src/client.
- Если задача про REST/WebSocket/маршруты/серверную логику — работай в src/server.
- Общие типы, утилиты и контракты между клиентом и сервером должны находиться (или добавляться) в src/common, чтобы исключить дублирование.

Сборка и запуск при изменениях в src/common или src/client:
- Если изменились файлы в src/common/* или src/client/*, агент должен предложить выполнить команды одной однострочной командой (одним кликом):
```bash
cd src/client
npm run build
cd ../..
npm run dev
```

Принципы:
- Не дублируй типы и утилиты: выносить их в src/common и импортировать с обеих сторон.
- При изменении контрактов (типы сообщений, API) сначала обновляй src/common, затем синхронизируй использование в client и server.